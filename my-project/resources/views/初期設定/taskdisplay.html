<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>taskdisplay</title>
    <link rel="stylesheet" href="C:\Users\ai\Desktop\task-webapp\my-project\resources\views\初期設定\style.css">

    <script>
        const removeClick = (event) => {
            event.currentTarget.parentNode.parentNode.remove();
            //TODO removeボタンのクリック処理を実装
        }

        const addClick = () => {
            if (document.getElementById("add_date").value == "") {
                alert("日付が設定されていません");
                return;
            }

            if (document.getElementById("add_text").value == "") {
                alert("内容が設定されていません")
                return;
            }
            //行TR
            var newRow = document.createElement("tr");
            //期限列
            var dateTd = document.createElement("td");
            //タスク列
            var contentTd = document.createElement("td");
            //削除列
            var removeTd = document.createElement("ts");
            //removeボタン
            var removeButton = document.createElement("input");
            removeButton.value = "remove";
            removeButton.onclick = removeClick;

            //TDの中身を設定
            dateTd.innerText = document.getElementById("add_date").value;
            contentTd.innerText = document.getElementById("add_text").value;
            removeTd.appendChild(removeButton);

            //TRへTDを追加
            newRow.appendChild(dateTd);
            newRow.appendChild(contentTd);
            newRow.appendChild(removeTd);

            document.getElementById("table_body").appendChild(newRow);


        }

        window.onload = function() {
            document.getElementById("add_button").onclick = addClick;
        }

    </script>
</head>
<body>
    <h1>タスク管理</h1>
    <div>
        <input type="date" id="add_date" />
        <input type="text" id="add_text" />
        <input type="button" id="add_button" value="add" />
    </div>

    <table class="table">
        <thead>
            <tr>
                <th class="col">期限</th>
                <th class="col-8">タスク</th>
                <th class="col">削除</th>
            </tr>
        </thead>
        <tbody id="table_body">

        </tbody>
    </table>
  </body> 
</html>